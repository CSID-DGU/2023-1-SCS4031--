import React, { useEffect, useState } from "react";
import DeliveryPin from "../DeliveryPin";

import {
  NaverMap,
  Marker,
  Container as MapDiv,
  useNavermaps,
} from "react-naver-maps";

const RoadMap = (): JSX.Element => {
  const naverMaps = useNavermaps();

  const [myData, setMyData] = useState<any>([]);

  useEffect(() => {
    setMyData([
      {
        cluster_id: 0,
        index_x: "127.0436104",
        index_y: "37.7380313",
        item_num: 15,
        item_list:
          "[18, 23, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 221, 226, 232]",
        average_dist: "1.577404873387422e-09",
        total_dist: "2.366107310081134e-08",
        deliver_type: 2,
        deliver_order: 49,
      },
      {
        cluster_id: 1,
        index_x: "127.0421226333333",
        index_y: "37.73387946666666",
        item_num: 6,
        item_list: "[141, 142, 143, 147, 148, 149]",
        average_dist: "16.91682072510464",
        total_dist: "101.5009243506278",
        deliver_type: 2,
        deliver_order: 2,
      },
      {
        cluster_id: 2,
        index_x: "127.0487156",
        index_y: "37.7333613",
        item_num: 1,
        item_list: "[74]",
        average_dist: "0.0",
        total_dist: "0.0",
        deliver_type: 1,
        deliver_order: 3,
      },
      {
        cluster_id: 3,
        index_x: "127.04562808",
        index_y: "37.73478898",
        item_num: 5,
        item_list: "[44, 45, 51, 52, 53]",
        average_dist: "19.37528811091373",
        total_dist: "96.87644055456866",
        deliver_type: 2,
        deliver_order: 33,
      },
      {
        cluster_id: 4,
        index_x: "127.0428369",
        index_y: "37.73574454999999",
        item_num: 4,
        item_list: "[1, 157, 158, 159]",
        average_dist: "14.28461212148022",
        total_dist: "57.13844848592088",
        deliver_type: 1,
        deliver_order: 28,
      },
      {
        cluster_id: 5,
        index_x: "127.039570875",
        index_y: "37.73418455",
        item_num: 4,
        item_list: "[94, 95, 96, 98]",
        average_dist: "10.23949087908351",
        total_dist: "40.95796351633405",
        deliver_type: 1,
        deliver_order: 0,
      },
      {
        cluster_id: 6,
        index_x: "127.0504666",
        index_y: "37.73599810000001",
        item_num: 8,
        item_list: "[210, 211, 212, 213, 217, 218, 219, 220]",
        average_dist: "3.216177331048084e-09",
        total_dist: "2.572941864838467e-08",
        deliver_type: 2,
        deliver_order: 31,
      },
      {
        cluster_id: 7,
        index_x: "127.04503698",
        index_y: "37.7371553",
        item_num: 5,
        item_list: "[171, 178, 179, 184, 228]",
        average_dist: "0.4733860380937562",
        total_dist: "2.366930190468781",
        deliver_type: 1,
        deliver_order: 18,
      },
      {
        cluster_id: 8,
        index_x: "127.04489095",
        index_y: "37.73336156666667",
        item_num: 6,
        item_list: "[73, 75, 76, 78, 79, 224]",
        average_dist: "23.37427524213176",
        total_dist: "140.2456514527906",
        deliver_type: 2,
        deliver_order: 22,
      },
      {
        cluster_id: 9,
        index_x: "127.04118784",
        index_y: "37.73559542",
        item_num: 5,
        item_list: "[0, 2, 123, 124, 231]",
        average_dist: "18.4737154098873",
        total_dist: "92.36857704943648",
        deliver_type: 1,
        deliver_order: 41,
      },
      {
        cluster_id: 10,
        index_x: "127.0441674",
        index_y: "37.73533056666667",
        item_num: 3,
        item_list: "[39, 42, 48]",
        average_dist: "23.48061995614073",
        total_dist: "70.44185986842218",
        deliver_type: 1,
        deliver_order: 24,
      },
      {
        cluster_id: 11,
        index_x: "127.0451870666667",
        index_y: "37.73632763333334",
        item_num: 12,
        item_list:
          "[160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 172]",
        average_dist: "5.54612604230856",
        total_dist: "66.55351250770272",
        deliver_type: 2,
        deliver_order: 34,
      },
      {
        cluster_id: 12,
        index_x: "127.0441022571429",
        index_y: "37.73692827142857",
        item_num: 7,
        item_list: "[24, 25, 26, 27, 28, 29, 30]",
        average_dist: "12.44097361322298",
        total_dist: "87.08681529256087",
        deliver_type: 2,
        deliver_order: 9,
      },
      {
        cluster_id: 13,
        index_x: "127.045094775",
        index_y: "37.734105825",
        item_num: 4,
        item_list: "[58, 60, 64, 80]",
        average_dist: "23.61614875578723",
        total_dist: "94.4645950231489",
        deliver_type: 1,
        deliver_order: 13,
      },
      {
        cluster_id: 14,
        index_x: "127.03850186",
        index_y: "37.73409634",
        item_num: 5,
        item_list: "[84, 85, 86, 87, 88]",
        average_dist: "16.73071988708418",
        total_dist: "83.65359943542093",
        deliver_type: 1,
        deliver_order: 17,
      },
      {
        cluster_id: 15,
        index_x: "127.039929",
        index_y: "37.7354448",
        item_num: 2,
        item_list: "[111, 112]",
        average_dist: "0.0",
        total_dist: "0.0",
        deliver_type: 1,
        deliver_order: 40,
      },
      {
        cluster_id: 16,
        index_x: "127.047849",
        index_y: "37.7357597",
        item_num: 1,
        item_list: "[216]",
        average_dist: "0.0",
        total_dist: "0.0",
        deliver_type: 1,
        deliver_order: 10,
      },
      {
        cluster_id: 17,
        index_x: "127.0475838",
        index_y: "37.7392456",
        item_num: 1,
        item_list: "[230]",
        average_dist: "0.0",
        total_dist: "0.0",
        deliver_type: 1,
        deliver_order: 35,
      },
      {
        cluster_id: 18,
        index_x: "127.0446051",
        index_y: "37.73470765",
        item_num: 4,
        item_list: "[50, 61, 62, 66]",
        average_dist: "15.22933824755844",
        total_dist: "60.91735299023376",
        deliver_type: 1,
        deliver_order: 21,
      },
      {
        cluster_id: 19,
        index_x: "127.04430738",
        index_y: "37.73394584",
        item_num: 5,
        item_list: "[65, 67, 68, 69, 70]",
        average_dist: "23.05759963805858",
        total_dist: "115.2879981902929",
        deliver_type: 2,
        deliver_order: 20,
      },
      {
        cluster_id: 20,
        index_x: "127.0411715333333",
        index_y: "37.7349841",
        item_num: 6,
        item_list: "[114, 115, 116, 120, 121, 122]",
        average_dist: "12.83097045644281",
        total_dist: "76.98582273865688",
        deliver_type: 2,
        deliver_order: 16,
      },
      {
        cluster_id: 21,
        index_x: "127.041849625",
        index_y: "37.734716075",
        item_num: 4,
        item_list: "[132, 134, 135, 136]",
        average_dist: "19.8173699149539",
        total_dist: "79.2694796598156",
        deliver_type: 1,
        deliver_order: 23,
      },
      {
        cluster_id: 22,
        index_x: "127.03875884",
        index_y: "37.73479089999999",
        item_num: 5,
        item_list: "[89, 90, 91, 97, 106]",
        average_dist: "16.98737691748291",
        total_dist: "84.93688458741453",
        deliver_type: 1,
        deliver_order: 27,
      },
      {
        cluster_id: 23,
        index_x: "127.039868775",
        index_y: "37.7335638",
        item_num: 4,
        item_list: "[99, 100, 101, 102]",
        average_dist: "22.09566532414878",
        total_dist: "88.3826612965951",
        deliver_type: 1,
        deliver_order: 36,
      },
      {
        cluster_id: 24,
        index_x: "127.04247555",
        index_y: "37.7352938",
        item_num: 2,
        item_list: "[126, 128]",
        average_dist: "22.98552498987505",
        total_dist: "45.97104997975011",
        deliver_type: 1,
        deliver_order: 48,
      },
      {
        cluster_id: 25,
        index_x: "127.0457732",
        index_y: "37.73436915",
        item_num: 6,
        item_list: "[54, 55, 56, 57, 59, 63]",
        average_dist: "13.81956753979462",
        total_dist: "82.91740523876774",
        deliver_type: 2,
        deliver_order: 45,
      },
      {
        cluster_id: 26,
        index_x: "127.0446557",
        index_y: "37.73577546",
        item_num: 5,
        item_list: "[31, 34, 36, 37, 38]",
        average_dist: "16.09958191705739",
        total_dist: "80.49790958528692",
        deliver_type: 1,
        deliver_order: 5,
      },
      {
        cluster_id: 27,
        index_x: "127.046010925",
        index_y: "37.733495625",
        item_num: 4,
        item_list: "[77, 222, 227, 229]",
        average_dist: "22.52938887433835",
        total_dist: "90.1175554973534",
        deliver_type: 1,
        deliver_order: 4,
      },
      {
        cluster_id: 28,
        index_x: "127.0431843",
        index_y: "37.7343685",
        item_num: 3,
        item_list: "[3, 4, 5]",
        average_dist: "0.0",
        total_dist: "0.0",
        deliver_type: 1,
        deliver_order: 38,
      },
      {
        cluster_id: 29,
        index_x: "127.0439746666667",
        index_y: "37.7375199",
        item_num: 3,
        item_list: "[207, 208, 209]",
        average_dist: "10.6901274960439",
        total_dist: "32.07038248813171",
        deliver_type: 1,
        deliver_order: 29,
      },
      {
        cluster_id: 30,
        index_x: "127.0405649",
        index_y: "37.735056025",
        item_num: 4,
        item_list: "[117, 118, 119, 125]",
        average_dist: "20.32340817150775",
        total_dist: "81.293632686031",
        deliver_type: 1,
        deliver_order: 6,
      },
      {
        cluster_id: 31,
        index_x: "127.0417592714286",
        index_y: "37.73356817142857",
        item_num: 7,
        item_list: "[82, 144, 150, 151, 152, 153, 154]",
        average_dist: "14.81457144829369",
        total_dist: "103.7020001380558",
        deliver_type: 2,
        deliver_order: 14,
      },
      {
        cluster_id: 32,
        index_x: "127.04477082",
        index_y: "37.73760196",
        item_num: 5,
        item_list: "[22, 180, 181, 182, 183]",
        average_dist: "11.5566263491026",
        total_dist: "57.783131745513",
        deliver_type: 1,
        deliver_order: 32,
      },
      {
        cluster_id: 33,
        index_x: "127.04393994",
        index_y: "37.73339692",
        item_num: 5,
        item_list: "[6, 7, 8, 71, 72]",
        average_dist: "21.93429662240845",
        total_dist: "109.6714831120423",
        deliver_type: 2,
        deliver_order: 30,
      },
      {
        cluster_id: 34,
        index_x: "127.04387",
        index_y: "37.7381114",
        item_num: 15,
        item_list:
          "[195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 223, 233, 234]",
        average_dist: "1.577404873387422e-09",
        total_dist: "2.366107310081134e-08",
        deliver_type: 2,
        deliver_order: 25,
      },
      {
        cluster_id: 35,
        index_x: "127.0452811666667",
        index_y: "37.73586916666667",
        item_num: 3,
        item_list: "[32, 33, 35]",
        average_dist: "19.284829200815",
        total_dist: "57.85448760244498",
        deliver_type: 1,
        deliver_order: 46,
      },
      {
        cluster_id: 36,
        index_x: "127.03848",
        index_y: "37.7330786",
        item_num: 1,
        item_list: "[83]",
        average_dist: "0.0",
        total_dist: "0.0",
        deliver_type: 1,
        deliver_order: 42,
      },
      {
        cluster_id: 37,
        index_x: "127.0436806571429",
        index_y: "37.73574895714285",
        item_num: 7,
        item_list: "[10, 11, 12, 13, 14, 15, 16]",
        average_dist: "7.583023726469207",
        total_dist: "53.08116608528445",
        deliver_type: 2,
        deliver_order: 15,
      },
      {
        cluster_id: 38,
        index_x: "127.0436065",
        index_y: "37.7370373",
        item_num: 4,
        item_list: "[17, 19, 20, 21]",
        average_dist: "0.0",
        total_dist: "0.0",
        deliver_type: 1,
        deliver_order: 43,
      },
      {
        cluster_id: 39,
        index_x: "127.04465674",
        index_y: "37.7353227",
        item_num: 5,
        item_list: "[40, 41, 43, 46, 47]",
        average_dist: "22.60531554166236",
        total_dist: "113.0265777083118",
        deliver_type: 2,
        deliver_order: 26,
      },
      {
        cluster_id: 40,
        index_x: "127.0489126",
        index_y: "37.7339242",
        item_num: 2,
        item_list: "[214, 215]",
        average_dist: "0.0",
        total_dist: "0.0",
        deliver_type: 1,
        deliver_order: 47,
      },
      {
        cluster_id: 41,
        index_x: "127.03951976",
        index_y: "37.7352816",
        item_num: 5,
        item_list: "[107, 108, 109, 110, 113]",
        average_dist: "10.69741944990113",
        total_dist: "53.48709724950565",
        deliver_type: 1,
        deliver_order: 39,
      },
      {
        cluster_id: 42,
        index_x: "127.03896",
        index_y: "37.73374433333333",
        item_num: 3,
        item_list: "[103, 104, 105]",
        average_dist: "9.74533719335856",
        total_dist: "29.23601158007568",
        deliver_type: 1,
        deliver_order: 44,
      },
      {
        cluster_id: 43,
        index_x: "127.04275875",
        index_y: "37.735017175",
        item_num: 4,
        item_list: "[129, 130, 131, 133]",
        average_dist: "10.96250619177835",
        total_dist: "43.85002476711341",
        deliver_type: 1,
        deliver_order: 19,
      },
      {
        cluster_id: 44,
        index_x: "127.04514418",
        index_y: "37.73748528",
        item_num: 5,
        item_list: "[173, 174, 175, 176, 177]",
        average_dist: "1.05621975688441",
        total_dist: "5.281098784422051",
        deliver_type: 1,
        deliver_order: 11,
      },
      {
        cluster_id: 45,
        index_x: "127.0428190333333",
        index_y: "37.73375830000001",
        item_num: 3,
        item_list: "[81, 145, 146]",
        average_dist: "30.47660086035162",
        total_dist: "91.42980258105489",
        deliver_type: 1,
        deliver_order: 37,
      },
      {
        cluster_id: 46,
        index_x: "127.0438501",
        index_y: "37.73500305",
        item_num: 2,
        item_list: "[9, 49]",
        average_dist: "17.96248575222006",
        total_dist: "35.92497150444012",
        deliver_type: 1,
        deliver_order: 1,
      },
      {
        cluster_id: 47,
        index_x: "127.04171996",
        index_y: "37.73419158",
        item_num: 5,
        item_list: "[137, 138, 139, 140, 225]",
        average_dist: "5.516136354426282",
        total_dist: "27.58068177213141",
        deliver_type: 1,
        deliver_order: 12,
      },
      {
        cluster_id: 48,
        index_x: "127.0416753",
        index_y: "37.7357268",
        item_num: 3,
        item_list: "[127, 155, 156]",
        average_dist: "0.0",
        total_dist: "0.0",
        deliver_type: 1,
        deliver_order: 8,
      },
      {
        cluster_id: 49,
        index_x: "127.0390462",
        index_y: "37.7343824",
        item_num: 2,
        item_list: "[92, 93]",
        average_dist: "0.0",
        total_dist: "0.0",
        deliver_type: 1,
        deliver_order: 7,
      },
    ]);
  }, []);

  return (
    <MapDiv
      style={{
        width: "100%",
        height: "600px",
      }}
    >
      <NaverMap
        defaultCenter={{ lat: 37.7357597, lng: 127.047849 }}
        defaultZoom={16}
      >
        {myData.map((data: any) => (
          <Marker
            key={data.cluster_id}
            position={new naverMaps.LatLng(data.index_y, data.index_x)}
            animation={2}
            title={data.deliver_order}
            icon={{
              content: `<div class="indicator">
                            <span class="indicator-item badge ${
                              data.deliver_type === 1
                                ? "badge-primary"
                                : "badge-accent"
                            }">${data.item_num}</span> 
                            <button class="btn">${data.deliver_order}</button>
                        </div>`,
            }}
          />
        ))}
      </NaverMap>
    </MapDiv>
  );
};

export default RoadMap;
